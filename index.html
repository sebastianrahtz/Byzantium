<!DOCTYPE html>
<meta charset="UTF-8"/>
<html>
<head>
<script src="jquery.js"></script>
<script src="byzantium.js"></script>
<style type="text/css">
#selected
{
float:right;
}
</style>
</head>
<body>
<div id='projectSelection'>
<h1>Welcome to Roma!</h1>
<h2>Select a project:</h2><br/>
<button class="newProject">New Project</button>
<button class="loadProject">Load Project</button>
<button class="uploadProject">Upload Project</button>
</div>

<div id='upload'>

	<script type="text/javascript">
		// Check for the various File API support.
		if (window.File && window.FileReader && window.FileList && window.Blob) {
		//  alert("Great success! All the File APIs are supported.");
		} else {
		  alert('The File APIs are not fully supported in this browser.');
		}
	</script>
	<input type="file" id="files" name="files[]" multiple />
	<output id="list"></output>
	<button class="continueToLoad">Continue</button>
	<script>
  function handleFileSelect(evt) {
    var files = evt.target.files; // FileList object

    // files is a FileList of File objects. List some properties.
    var output = [];
    for (var i = 0, f; f = files[i]; i++) {
      output.push('<li><strong>', escape(f.name), '</strong> (', f.type || 'n/a', ') - ',
                  f.size, ' bytes, last modified: ',
                  f.lastModifiedDate ? f.lastModifiedDate.toLocaleDateString() : 'n/a',
                  '</li>');
		  var reader = new FileReader();
		  // Closure to capture the file information.
      reader.onload = (function(theFile) {
        return function(e) {
          document.getElementById('inputarea').innerHTML=this.result;
        };
      })(f);

      // Read in the image file as a data URL.
      reader.readAsText(f);
    }
    document.getElementById('list').innerHTML = '<ul>' + output.join('') + '</ul>';
  }

  document.getElementById('files').addEventListener('change', handleFileSelect, false);
</script>
	<input name="filename" value="myTEI"/><br/>
	<textarea rows="50" cols="75" name="XMLinput" id="inputarea"></textarea>

</div>

<div id='message'></div>

<div id='selected'></div>

<div id='startInfo'>
	<form>
	Title:<input type="text" id='title'/><br/>
	</form>
	<form>
	Filename:<input type="text" id='filename'/><br/>
	</form>
	<form>
	Author Name:<input type="text" id='author'/><br/>
	</form>
	<form>
	Description:<textarea rows="4" cols="40" id='description'></textarea><br/>
	</form>
	<button class="saveStartInfo">Next</button>

</div>

<div id="teiSelection">
<h2>Please Select Your TEI Database:</h2>
	<p id="TEI_Selected"></p>
	<button class="TEI_Default">Default</button>
	<button class="TEI_Online">Use Online</button>
	<button class="TEI_Existing">Load Existing</button>
	<button class="TEI_Custom">Load Custom</button><br/>
	
	<div id='UploadCustom'>

		<script type="text/javascript">
			// Check for the various File API support.
			if (window.File && window.FileReader && window.FileList && window.Blob) {
			//  alert("Great success! All the File APIs are supported.");
			} else {
			  alert('The File APIs are not fully supported in this browser.');
			}
		</script>
		<input type="file" id="JSONfiles" name="files[]" multiple />
		<output id="JSONlist"></output>
		<button class="loadCustomJSON">Load</button>
		<script>
	  function handleFileSelect(evt) {
		var files = evt.target.files; // FileList object

		// files is a FileList of File objects. List some properties.
		var output = [];
		for (var i = 0, f; f = files[i]; i++) {
		  output.push('<li><strong>', escape(f.name), '</strong> (', f.type || 'n/a', ') - ',
					  f.size, ' bytes, last modified: ',
					  f.lastModifiedDate ? f.lastModifiedDate.toLocaleDateString() : 'n/a',
					  '</li>');
			  var reader = new FileReader();
			  // Closure to capture the file information.
		  reader.onload = (function(theFile) {
			return function(e) {
			  document.getElementById('JSONinputarea').innerHTML=this.result;
			};
		  })(f);

		  // Read in the image file as a data URL.
		  reader.readAsText(f);
		}
		document.getElementById('JSONlist').innerHTML = '<ul>' + output.join('') + '</ul>';
	  }

	  document.getElementById('JSONfiles').addEventListener('change', handleFileSelect, false);
	</script>
		<input name="filename" id="JSONname" value="myTEI"/><br/>
		<textarea rows="50" cols="75" name="JSONinput" id="JSONinputarea"></textarea>

	</div>
	
	<div id="OnlineSelector">
		Enter URL:<input type="text" id='TEI_OnlineSelector'/><br/>
		Name TEI:<input type="text" id='TEI_OnlineName'/><br/>
		<button class="setOnline">Continue</button>
	</div>
	
	<div id="ExistingSelector">
		<b>Load Which TEI:</b><input type="text" id='loadTEI'/>
		 <div id="tei_table">
		 <h2>Saved Projects</h2>
		 <table id='teipairs'></table>
		 </div>
		 <button class="setExisting">Set</button>
		 <button class="removeJSON">Remove</button>
		 <input type="text" id='JSONtoremove'/>
	</div>

</div>


<div id='modules'></div>

<div id='elements'></div>

<div id='attributes'></div>

<div id='output'></div>

<div id='actions'>
<button class="back">Back</button> 
<button class="save">Save</button>
<form>
Save Project:<input type="text" id='saveAs'/><br/>
</form>
<select id='outputSelection'>
  <option>XML</option>
  <option>RELAX NG Schema</option>
  <option>ISO Schematron</option>
  <option>Schematron</option>
  <option>DTD</option>
  <option>JSON</option>
</select>
<button class="output">Export</button>
</div>

<div id='loadProjectTools'>
	<form>
	<b>Load Which Project:</b><input type="text" id='loadAs'/><br/>
	</form>
	<button class="load">Load</button>
	<div id="items_table">
		 <h2>Saved Projects</h2>
		 <table id="pairs"></table>
	</div>
	<form>
	<b>Delete Which Project:</b><input type="text" id="deleteProject"/><br/>
	</form>
	<button class="delete">Delete</button>
</div>
<button class="restart">Restart</button>
</body>
</html>